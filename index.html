<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Qué prefieres?</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>¿Qué prefieres?</h1>

        <!-- Selector de categorías -->
        <div id="category-selector">
            <label for="categories">Elige una categoría:</label>
            <select id="categories">
                <option value="" disabled selected>Selecciona una categoría</option>
                <option value="pokemon">Pokémon</option>
                <option value="comidas">Comidas</option>
                <option value="equipos">Equipos de fútbol</option>
                <option value="rupaulUSA">Queens de RuPaul USA</option>
                <option value="rupaulUK">Queens de RuPaul UK</option>
                <option value="rupaulDownUnder">Queens de RuPaul Down Under</option>
                <option value="rupaulHolland">Queens de RuPaul Holanda</option>
                <option value="rupaulEspana">Queens de RuPaul España</option>
                <option value="rupaulAll">Todas las Queens de RuPaul</option>
            </select>
            <button id="start-btn" onclick="startGame()" disabled>Comenzar Juego</button>
        </div>

        <!-- Área del juego donde aparecerán las opciones -->
        <div id="game-area" style="display: none;">
            <div id="option1" class="card" onclick="selectOption('option1')"></div>
            <div id="option2" class="card" onclick="selectOption('option2')"></div>
        </div>

        <!-- Top 3 -->
        <div id="top3" style="display: none;"></div>
    </div>

    <!-- Firebase y tus scripts -->
    <script>
        // Definir las categorías con los elementos
        const categories = {
            pokemon: ['Pikachu', 'Charizard', 'Eevee', 'Bulbasaur', 'Squirtle', 'Mew', 'Pidgey', 'Ditto'],
            comidas: ['Pizza', 'Hamburguesa', 'Pasta', 'Tacos'],
            equipos: ['Barcelona', 'Real Madrid', 'Manchester United', 'Liverpool'],
            rupaulUSA: ['Akashia', 'BeBe Zahara Benet', 'Jade Sotomayor', 'Nina Flowers', 'Ongina', 'Rebecca Glasscock', 'Shannel', 'Tammie Brown', 'Victoria "Porkchop" Parker'],
            // Añadir más categorías según se necesite...
            rupaulAll: []
        };

        // Lógica de eliminación
        let currentRound = [];
        let nextRound = [];
        let eliminated = [];
        let isGameOver = false;

        // Lógica para deshabilitar botón si no hay categoría seleccionada
        document.getElementById('categories').addEventListener('change', function () {
            document.getElementById('start-btn').disabled = !this.value;
        });

        // Función que inicia el juego
        function startGame() {
            const selectedCategory = document.getElementById('categories').value;
            if (!selectedCategory) {
                alert('Por favor, selecciona una categoría.');
                return;
            }

            // Inicializamos las opciones de la categoría seleccionada
            currentRound = [...categories[selectedCategory]];
            nextRound = [];
            eliminated = [];
            isGameOver = false;

            // Mostrar el área del juego
            document.getElementById('game-area').style.display = 'flex';
            document.getElementById('category-selector').style.display = 'none'; // Ocultar selector de categoría

            // Empezar la primera ronda
            startNextMatch();
        }

        // Función para mostrar las próximas dos opciones
        function startNextMatch() {
            if (currentRound.length === 0 && nextRound.length === 1) {
                // Si hay un único ganador, el juego ha terminado
                alert('¡El ganador definitivo es: ' + nextRound[0] + '!');
                resetGame();
                return;
            } else if (currentRound.length === 0) {
                // Pasamos a la siguiente ronda si no hay más enfrentamientos en la ronda actual
                currentRound = [...nextRound];
                nextRound = [];
                alert('¡Comienza la siguiente ronda de ganadores!');
            }

            if (currentRound.length >= 2) {
                // Seleccionamos dos opciones para enfrentar
                const option1 = currentRound.shift();
                const option2 = currentRound.shift();
                displayOptions(option1, option2);
            } else {
                // Si hay un número impar de opciones, uno pasa automáticamente a la siguiente ronda
                nextRound.push(currentRound.shift());
                startNextMatch();
            }
        }

        // Función para mostrar las opciones en pantalla
        function displayOptions(option1, option2) {
            document.getElementById('option1').innerHTML = option1;
            document.getElementById('option2').innerHTML = option2;
        }

        // Función cuando se selecciona una opción
        function selectOption(selectedOption) {
            const selectedText = document.getElementById(selectedOption).innerHTML;
            const otherOption = selectedOption === 'option1' ? document.getElementById('option2').innerHTML : document.getElementById('option1').innerHTML;

            // La opción seleccionada pasa a la siguiente ronda
            nextRound.push(selectedText);
            // La opción no seleccionada se elimina
            eliminated.push(otherOption);

            // Continuamos con el siguiente enfrentamiento
            startNextMatch();
        }

        // Función para reiniciar el juego
        function resetGame() {
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('category-selector').style.display = 'block';
            document.getElementById('categories').value = '';
            document.getElementById('start-btn').disabled = true;
            currentRound = [];
            nextRound = [];
            eliminated = [];
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Qué prefieres?</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>¿Qué prefieres?</h1>

        <!-- Selector de categorías -->
        <div id="category-selector">
            <label for="categories">Elige una categoría:</label>
            <select id="categories">
                <option value="" disabled selected>Selecciona una categoría</option>
                <option value="pokemonprimera">Pokémon Primera Generación</option>
                <option value="comidas">Comidas</option>
                <option value="equipos">Equipos de fútbol</option>
                <option value="rupaulUSA">Queens de RuPaul USA</option>
                <option value="rupaulUK">Queens de RuPaul UK</option>
                <option value="rupaulDownUnder">Queens de RuPaul Down Under</option>
                <option value="rupaulHolland">Queens de RuPaul Holanda</option>
                <option value="rupaulEspana">Queens de RuPaul España</option>
                <option value="rupaulAll">Todas las Queens de RuPaul</option>
            </select>
            <button id="start-btn" onclick="startGame()" disabled>Comenzar Juego</button>
        </div>

        <!-- Área del juego donde aparecerán las opciones -->
        <div id="game-area" style="display: none;">
            <div id="option1" class="card" onclick="selectOption('option1')"></div>
            <div id="vs-text">VS</div>
            <div id="option2" class="card" onclick="selectOption('option2')"></div>
        </div>

        <!-- Mensaje de nueva ronda -->
        <div id="round-message" class="round-message">¡Comienza la nueva ronda de ganadores!</div>

        <!-- Pantalla de ganador -->
        <div id="winner-screen" style="display: none;">
            <h2 id="winner-text">¡El ganador es!</h2>
            <div id="winner-name"></div>
            <button onclick="resetGame()">Jugar de nuevo</button>
        </div>

        <!-- Top 3 -->
        <div id="top3" style="display: none;">
            <h2>Top 3 Finalistas</h2>
            <ul id="finalists-list"></ul>
        </div>
    </div>

    <!-- Efectos de sonido -->
    <audio id="select-sound" src="select.mp3"></audio>

    <script>
        const categories = {
            pokemonprimera: ['Pikachu', 'Charizard', 'Eevee', 'Bulbasaur', 'Squirtle', 'Mew'],
            comidas: ['Pizza', 'Hamburguesa', 'Pasta', 'Tacos', 'Sushi', 'Pollo asado', 'Sopa'],
            rupaulDownUnder: ['Anita Wigl\'it', 'Art Simone', 'Coco Jumbo', 'Electra Shock', 'Etcetera Etcetera', 'Jojo Zaho', 'Karen From Finance', 'Kita Mean', 'Maxi Shield', 'Scarlet Adams', 'Yvonne Lamay', 'Aubrey Haive', 'Beverly Kills', 'Hannah Conda', 'Kween Kong', 'Minnie Cooper', 'Molly Poppinz', 'Pomara Fifth', 'Spankie Jackzon'],
            rupaulHolland: ['ChelseaBoy', 'Envy Peru', 'Janey Jacké', 'Madame Madness', 'Ma\'MaQueen', 'Megan Schoonbrood', 'Patty Pam-Pam', 'Roem', 'Sederginne', 'Abby OMG', 'Juicy Kutoure', 'Ivy-Elyse', 'Love Masisi', 'My Little Puny', 'Reggy B', 'Tabitha', 'The Countess', 'Vanessa van Cartier', 'Vivaldi'],
            rupaulEspana: ['Arantxa Castilla-La Mancha', 'Carmen Farala', 'Dovima Nurmi', 'Drag Vulcano', 'Hugáceo Crujiente', 'Inti', 'Killer Queen', 'Pupi Poisson', 'Sagittaria', 'The Macarena', 'Ariel Rec', 'Estrella Xtravaganza', 'Jota Carajota', 'Marina', 'Onyx', 'Samantha Ballentines', 'Sharonne', 'Venedita Von Däsh', 'Vulcano', 'Chanel Anorex', 'Clover Bish', 'Drag Chuchi', 'Hornella Góngora', 'Kelly Roller', 'María Edilia', 'Paquita', 'Pitita', 'Pink Chadora', 'Vania Vainilla'],
            rupaulAll: []
        };

        let currentRound = [];
        let nextRound = [];
        let eliminated = [];
        let top3 = [];
        let isGameOver = false;

        document.getElementById('categories').addEventListener('change', function () {
            document.getElementById('start-btn').disabled = !this.value;
        });

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame() {
            const selectedCategory = document.getElementById('categories').value;
            if (!selectedCategory) {
                alert('Por favor, selecciona una categoría.');
                return;
            }

            currentRound = shuffleArray([...categories[selectedCategory]]);
            nextRound = [];
            eliminated = [];
            top3 = [];
            isGameOver = false;

            if (currentRound.length === 0) {
                alert('No hay opciones en esta categoría.');
                resetGame();
                return;
            }

            document.getElementById('game-area').style.display = 'flex';
            document.getElementById('category-selector').style.display = 'none';

            startNextMatch();
        }

        function showRoundMessage() {
            const message = document.getElementById('round-message');
            message.style.display = 'block';
            message.classList.add('fade-in');
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        }

        function startNextMatch() {
            if (currentRound.length === 0 && nextRound.length === 1) {
                showWinner(nextRound[0]);
                return;
            } else if (currentRound.length === 0) {
                currentRound = shuffleArray([...nextRound]);
                nextRound = [];
                showRoundMessage();
            }

            if (currentRound.length >= 2) {
                const option1 = currentRound.shift();
                const option2 = currentRound.shift();
                displayOptions(option1, option2);
            } else {
                nextRound.push(currentRound.shift());
                startNextMatch();
            }
        }

        function displayOptions(option1, option2) {
            document.getElementById('option1').innerHTML = option1;
            document.getElementById('option2').innerHTML = option2;
        }

        function selectOption(selectedOption) {
            const selectedText = document.getElementById(selectedOption).innerHTML;
            const otherOption = selectedOption === 'option1' ? document.getElementById('option2').innerHTML : document.getElementById('option1').innerHTML;

            nextRound.push(selectedText);
            eliminated.push(otherOption);

            playSelectSound();
            animateSelection(selectedOption);

            startNextMatch();
        }

        function playSelectSound() {
            const sound = document.getElementById('select-sound');
            sound.play();
        }

        function animateSelection(selectedOption) {
            const card = document.getElementById(selectedOption);
            card.classList.add('selected-card');
            setTimeout(() => {
                card.classList.remove('selected-card');
            }, 1000);
        }

        function showWinner(winner) {
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('winner-screen').style.display = 'block';
            document.getElementById('winner-name').innerHTML = winner;
        }

        function resetGame() {
            document.getElementById('category-selector').style.display = 'block';
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('winner-screen').style.display = 'none';
            document.getElementById('top3').style.display = 'none';
        }
    </script>
</body>
</html>

